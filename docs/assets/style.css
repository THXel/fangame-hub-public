/* --- Fonts --- */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

:root{
  --bg0: #06060a;
  --bg1: #0b0b14;
  --card: rgba(10, 10, 18, .62);
  --line: rgba(255,255,255,.10);
  --glow: rgba(99, 102, 241, .28);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --pixel: 'Press Start 2P', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
  --mono: 'VT323', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

html, body{ height:100%; }
body{
  margin:0;
  color: var(--text);
  background:
    radial-gradient(1200px 650px at 20% 15%, rgba(99,102,241,.16), transparent 65%),
    radial-gradient(900px 550px at 80% 10%, rgba(34,211,238,.11), transparent 55%),
    radial-gradient(1200px 900px at 60% 90%, rgba(236,72,153,.10), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
}

/* Scanlines overlay */
body:before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.035),
      rgba(255,255,255,.035) 1px,
      rgba(0,0,0,0) 3px,
      rgba(0,0,0,0) 6px
    );
  mix-blend-mode: overlay;
  opacity: .22;
}

.container{ max-width: 1320px; margin: 0 auto; padding: 2.2rem 1rem 3rem; }

h1,h2,h3{ font-family: var(--pixel); letter-spacing:.02em; }
h1{ font-size:2.1rem; line-height:1.2; margin:.4rem 0 .1rem; }
h2{ font-size:1.25rem; margin:1.2rem 0 .5rem; }
h3{ font-size:1.02rem; line-height:1.35; margin:.9rem 0 .4rem; }

.muted{ color: var(--muted); }
.tiny{ font-size: .86rem; opacity: .75; }
.mini{ font-size: 1.65rem; }
.num{ font-variant-numeric: tabular-nums; font-weight: 950; font-size: 1.82rem; font-family: var(--mono); }

.topbar{ display:flex; align-items:center; gap:14px; padding-top:28px; padding-bottom:10px; }
.topbar .grow{ flex:1 1 auto; }
.topbar img{ display:block; height:56px; width:auto; object-fit:contain; }
.topbar .right img{ height:64px; }

.tabs{ display:flex; gap:.6rem; margin: 1.1rem 0 .9rem; flex-wrap:wrap; }
.tabBtn{
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  padding: .55rem .75rem;
  cursor: pointer;
  color: var(--text);
  font-family: var(--pixel);
  font-size: .78rem;
}
.tabBtn.active{
  box-shadow: 0 0 0 2px rgba(99,102,241,.35) inset, 0 10px 30px rgba(0,0,0,.25);
  border-color: rgba(99,102,241,.35);
}

.card{
  position: relative;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 14px 14px 10px 14px;
  margin-bottom: 12px;
  background: var(--card);
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 18px 36px rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
}
.card:after{
  content:"";
  position:absolute;
  inset: -1px;
  border-radius: 18px;
  pointer-events:none;
  box-shadow: 0 0 0 1px rgba(255,255,255,.06), 0 0 26px var(--glow);
  opacity: .18;
}
.card:hover:after{ opacity: .30; }

.thumbWrap{
  width: 100%;
  height: 170px;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  box-shadow: 0 0 0 1px rgba(255,255,255,.05) inset;
}
.thumbWrap img{ width: 100%; height: 100%; object-fit: cover; display:block; }

.rowgap{ display:flex; gap:.55rem; flex-wrap: wrap; align-items:center; }
.deathsBig{ font-variant-numeric: tabular-nums; font-weight: 1000; font-size: 2.85rem; line-height: 1.05; margin: .28rem 0 .15rem 0; font-family: var(--mono); }
.deathsBig .skull{ font-size: .70em; line-height: 1; display:inline-block; transform: translateY(-.08em); margin-right: .18em; }
.stars{ letter-spacing: .06rem; font-size: 1.05rem; font-weight: 900; }

/* My (THXel) rating headings like DF */
.myRatingGrid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items:start; }
@media (max-width: 640px){ .myRatingGrid{ grid-template-columns: 1fr; } }
.myRatingBox{ display:flex; flex-direction:column; gap: 4px; min-width: 0; }
.ratingLabel{ font-family: var(--pixel); font-size: .72rem; opacity: .92; letter-spacing:.04em; }
.starsLine{ display:flex; align-items:baseline; gap: .45rem; min-width: 0; }

/* Stats cards (match local hub layout) */
.statsGrid{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 14px; }
@media (max-width: 960px){ .statsGrid{ grid-template-columns: 1fr; } }
.statCard{ padding: 16px 18px; }
.statTitle{ font-family: var(--pixel); font-size: .78rem; opacity: .92; letter-spacing: .04em; }
.statValue{ font-variant-numeric: tabular-nums; font-weight: 1000; font-size: 1.9rem; line-height: 1.05; margin: .35rem 0 .2rem; font-family: var(--mono); }
.statSpan2{ grid-column: span 2; }
@media (max-width: 960px){ .statSpan2{ grid-column: span 1; } }


/* Game card title + DF button row */
.gameHead{ display:flex; align-items:flex-start; justify-content:space-between; gap: 14px; }
.gameHeadLeft{ min-width: 0; }
.gameTitle{ font-size: 1.34rem; line-height: 1.25; margin: .1rem 0 .25rem; }

/* Align "My rating" with DF rating in a single row */
.ratingGrid{ display:grid; grid-template-columns: auto 1fr; gap: 14px; align-items:center; margin-top: .45rem; }
@media (max-width: 960px){ .ratingGrid{ grid-template-columns: 1fr; } }
.myRatings{ display:flex; flex-direction:column; gap: .35rem; }

/* Keep the DF bars block from stretching too far right on wide screens */
.dfWrap{ justify-self:start; max-width: 560px; width: 100%; }

/* DF button */
.dfBtn{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding:.55rem .85rem;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  text-decoration: none;
  font-family: var(--pixel);
  font-size: .76rem;
  white-space: nowrap;
  box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset;
}
.dfBtn:hover{ border-color: rgba(99,102,241,.55); box-shadow: 0 0 0 2px rgba(99,102,241,.18), 0 0 20px rgba(99,102,241,.10); }
.dfBtn:active{ transform: translateY(1px); }

.dfbox{ border: 1px dashed rgba(255,255,255,.18); border-radius: 14px; padding: 8px 10px; background: rgba(255,255,255,.02); }

.badge{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding:.34rem .72rem;
  border-radius: 999px;
  font-size: 1.00rem;
  font-weight: 900;
  letter-spacing:.02em;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.04);
  font-family: var(--pixel);
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}
.badge:before{ content:"▣"; opacity:.95; }

/* Stronger, more readable status colors */
.b-planned{
  border-color: rgba(56,189,248,.65);
  background: rgba(56,189,248,.14);
  box-shadow: 0 0 0 1px rgba(56,189,248,.35) inset, 0 0 18px rgba(56,189,248,.10);
}
.b-playing{
  border-color: rgba(250,204,21,.70);
  background: rgba(250,204,21,.16);
  box-shadow: 0 0 0 1px rgba(250,204,21,.35) inset, 0 0 18px rgba(250,204,21,.10);
}
.b-done{
  border-color: rgba(34,197,94,.65);
  background: rgba(34,197,94,.14);
  box-shadow: 0 0 0 1px rgba(34,197,94,.35) inset, 0 0 18px rgba(34,197,94,.10);
}
.b-hard{
  border-color: rgba(248,113,113,.70);
  background: rgba(248,113,113,.14);
  box-shadow: 0 0 0 1px rgba(248,113,113,.35) inset, 0 0 18px rgba(248,113,113,.12);
}

.gridCard{ display:grid; grid-template-columns: 260px 1fr; gap: 14px; }
@media (max-width: 860px){ .gridCard{ grid-template-columns: 1fr; } }

.links a{ color: rgba(255,255,255,.92); text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,.35); }
.links a:hover{ border-bottom-style: solid; }


/* --- Comment box + spoilers --- */
.commentBox{ margin-top:.65rem; border:1px dashed rgba(255,255,255,.18); border-radius:14px; padding:10px 12px; background: rgba(255,255,255,.02); }
.commentBox .label{ font-family: var(--pixel); font-size:.72rem; opacity:.92; letter-spacing:.04em; margin-bottom:.35rem; }
.commentBox .txt{ font-family: var(--mono); font-size:1.15rem; line-height:1.35; }
details.spoiler{ margin:.45rem 0; border:1px solid rgba(255,255,255,.14); border-radius:12px; background: rgba(255,255,255,.02); overflow:hidden; }
summary.spoilerSummary{ cursor:pointer; list-style:none; padding:.45rem .65rem; font-family: var(--pixel); font-size:.72rem; }
summary.spoilerSummary::-webkit-details-marker{ display:none; }
details.spoiler > summary.spoilerSummary:after{ content:'▸'; float:right; opacity:.85; }
details.spoiler[open] > summary.spoilerSummary:after{ content:'▾'; }
.spoilerBody{ padding:.55rem .65rem .65rem; border-top:1px solid rgba(255,255,255,.12); font-family: var(--mono); font-size:1.15rem; line-height:1.35; }

/* --- Library controls (Search / Filter / Sort) --- */
#libControls.card{ padding: 14px 16px; }
.controlsRow{ display:grid; grid-template-columns: 1.65fr 1fr 1fr; gap: 14px; align-items:end; }
@media (max-width: 960px){ .controlsRow{ grid-template-columns: 1fr; } }
.field{ display:flex; flex-direction:column; gap: 6px; min-width: 0; }
.fieldLabel{ font-family: var(--pixel); font-size: .72rem; opacity:.92; letter-spacing:.04em; }
.fieldInput, .fieldSelect{
  width: 100%;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  color: var(--text);
  padding: .65rem .75rem;
  outline: none;
  box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset;
  font-family: var(--mono);
  font-size: 1.10rem;
  min-height: 44px;
  appearance: none;
  -webkit-appearance: none;
}
.fieldInput::placeholder{ color: rgba(255,255,255,.42); }
.fieldInput:focus, .fieldSelect:focus{
  border-color: rgba(99,102,241,.55);
  box-shadow: 0 0 0 2px rgba(99,102,241,.22), 0 0 20px rgba(99,102,241,.12);
}


.hr{ height:1px; background: rgba(255,255,255,.10); margin: 1rem 0; }


/* --- Boshy Speedrun --- */
.boshyHeaderCard{ padding: 1rem; }
#boshyHdr{ display:flex; align-items:center; justify-content:space-between; gap: 1rem; flex-wrap:wrap; }
.boshyHdrLeft{ display:flex; align-items:center; gap: .9rem; min-width: 260px; }
.boshyGameIcon{ width: 48px; height: 48px; border-radius: 14px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); }
.boshyTitle{ font-family: var(--pixel); font-size: 1.05rem; letter-spacing: .03em; }
.boshySub{ font-size: .92rem; opacity:.78; margin-top:.1rem; }
.boshySearchRow{ display:flex; gap: 1rem; align-items:flex-end; flex-wrap:wrap; margin-top: .85rem; }

.boshyCards{ display:grid; grid-template-columns: repeat(4, minmax(180px, 1fr)); gap: .8rem; margin: .85rem 0 1rem 0; }
@media (max-width: 980px){ .boshyCards{ grid-template-columns: repeat(2, minmax(180px, 1fr)); } }
@media (max-width: 520px){ .boshyCards{ grid-template-columns: 1fr; } }
.boshyStatCard{ padding: 1rem; }
.boshySplitsCard{ padding: 1rem; }

.splitTable{ display:flex; flex-direction:column; gap: .65rem; }
.splitRow{ display:grid; grid-template-columns: 1fr 300px; gap: .85rem; padding: .85rem .85rem; border-radius: 18px; background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.10); }
@media (max-width: 980px){ .splitRow{ grid-template-columns: 1fr; } }
.splitName{ display:flex; align-items:center; gap:.55rem; font-family: var(--pixel); letter-spacing:.02em; }
.splitIcon{ width: 22px; height: 22px; border-radius: 6px; }
.splitIconPh{ width: 22px; height: 22px; border-radius: 6px; display:flex; align-items:center; justify-content:center; background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); font-size:.6rem; opacity:.85; }
.splitMeta{ display:flex; gap: .9rem; flex-wrap:wrap; margin-top:.2rem; }
.barRow{ display:flex; align-items:center; gap: .65rem; margin-top:.55rem; }
.barWrap{ flex:1; height: 10px; border-radius: 999px; overflow:hidden; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); }
.barFill{ height: 100%; background: rgba(99,102,241,.85); }
.barLabel{ width: 84px; text-align:right; font-family: var(--mono); }
.splitSide{ display:flex; gap:.45rem; flex-wrap:wrap; justify-content:flex-end; align-content:flex-start; }
.pill{ display:inline-flex; gap:.35rem; align-items:center; padding: .35rem .55rem; border-radius: 999px; background: rgba(0,0,0,.18); border:1px solid rgba(255,255,255,.10); font-size: .88rem; white-space:nowrap; }


/* === BOSH Y: Compact UI pass ========================================= */
:root{
  --boshy-font: 13px;
  --boshy-title: 16px;
  --boshy-card-pad: 10px;
  --boshy-gap: 10px;
  --boshy-radius: 14px;
}

#tab-boshy, [data-tabpanel="boshy"]{
  font-size: var(--boshy-font);
  line-height: 1.35;
}

#tab-boshy .card, [data-tabpanel="boshy"] .card{
  padding: var(--boshy-card-pad) !important;
  border-radius: var(--boshy-radius) !important;
}

#tab-boshy .grid, [data-tabpanel="boshy"] .grid{
  gap: var(--boshy-gap) !important;
}

#tab-boshy h2, #tab-boshy h3, [data-tabpanel="boshy"] h2, [data-tabpanel="boshy"] h3{
  font-size: var(--boshy-title);
  line-height: 1.2;
  margin: 0 0 8px 0;
}

#tab-boshy .pill, [data-tabpanel="boshy"] .pill{
  padding: 3px 8px !important;
  font-size: 12px !important;

  color: rgba(255,255,255,.92);
  font-weight: 800;
  letter-spacing: .02em;
}

#tab-boshy img.icon, [data-tabpanel="boshy"] img.icon{
  width: 22px !important;
  height: 22px !important;
}

/* Bars: thinner */
#tab-boshy .bar, [data-tabpanel="boshy"] .bar{
  height: 7px !important;
}

/* Leaderboard table */
.boshy-lb table{
  width: 100%;
  border-collapse: collapse;
  font-size: 12.5px;
}
.boshy-lb th, .boshy-lb td{
  padding: 6px 8px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  vertical-align: middle;
}
.boshy-lb .me{
  outline: 1px solid rgba(130,180,255,0.45);
  border-radius: 10px;
  background: rgba(130,180,255,0.08);
}
.boshy-muted{ opacity: .75; }


/* === Boshy tab highlight === */
.tabBtn[data-tab='boshy']{
  border: 1px solid rgba(120,200,255,.35) !important;
  box-shadow: 0 0 0 1px rgba(120,200,255,.15), 0 8px 24px rgba(0,0,0,.25);
}
.tabBtn[data-tab='boshy'].active{
  box-shadow: 0 0 0 1px rgba(120,200,255,.25), 0 10px 28px rgba(0,0,0,.35);
}

/* Leaderboards */
.boshyLbTop{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.boshyLbControls{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;align-items:center;}
.boshyLbControls .pill{display:flex;gap:8px;align-items:center;}
.boshyLbTableWrap{margin-top:12px; overflow:auto;  border-radius: 12px;}
.boshyLbTable{width:100%;border-collapse:collapse;font-size:12.5px;}
.boshyLbTable th,.boshyLbTable td{padding:6px 8px;border-bottom:1px solid rgba(255,255,255,.08);vertical-align:middle;}
.boshy-lb .me{outline:1px solid rgba(130,180,255,.45);border-radius:10px;background:rgba(130,180,255,.08);}

/* Splits table */
.boshySplitsWrap{overflow:auto;}
.boshySplitsTable{width:100%;border-collapse:collapse;font-size:12.5px;}
.boshySplitsTable th,.boshySplitsTable td{padding:7px 8px;border-bottom:1px solid rgba(255,255,255,.08);vertical-align:middle;}
.splitNameCell{min-width:260px;}
.splitNameInline{display:flex;align-items:center;gap:8px;}
.splitIcon{width:20px;height:20px;image-rendering:pixelated;}
.splitIconPh{width:20px;height:20px;border-radius:6px;background:rgba(255,255,255,.08);}


/* === Boshy master layout v3 === */
#tab-boshy h2{ margin-bottom: 10px; }
.boshyTopGrid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items:start; }
@media (max-width: 980px){ .boshyTopGrid{ grid-template-columns: 1fr; } }
.boshySectionTitle{ padding: 10px 12px !important; }
.boshySectionTitle h3{ margin:0; font-size: 14.5px !important; font-weight: 700; }
.boshyHeaderCard{ padding: 12px !important; }
.boshyTitle{ font-size: 16px !important; }
.boshySub{ font-size: 12.5px !important; opacity: .85; }
.boshyGameIcon{ width: 26px; height: 26px; border-radius: 8px; image-rendering: pixelated; display:block; }
.boshySplitsCard{ margin-top: 12px; }
.boshySplitsCard h3{ margin: 0 0 10px 0; font-size: 14.5px !important; }
.boshySplitsTable th i{ margin-right:6px; opacity:.9; }
.boshyLbTop h3 i{ margin-right:8px; }
.boshyLbControls{ gap:8px; }
.boshyLbTableWrap{  }

/* Make Boshy tab pop */
.tabBtn[data-tab='boshy']{
  position: relative;
  border: 1px solid rgba(120,200,255,.55) !important;
  background: linear-gradient(135deg, rgba(120,200,255,.16), rgba(120,200,255,.06));
}
.tabBtn[data-tab='boshy'].active{ box-shadow: 0 0 0 1px rgba(120,200,255,.35), 0 10px 30px rgba(0,0,0,.35); }


/* === Boshy subtabs === */
.boshySubtabs{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0 12px 0;}
.boshySubtab{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);font-weight:700;font-size:13px;cursor:pointer;}
.boshySubtab.active{border-color:rgba(120,200,255,.55);background:rgba(120,200,255,.14);box-shadow:0 0 0 1px rgba(120,200,255,.18);}
.boshySubtab:focus{outline:none;box-shadow:0 0 0 2px rgba(120,200,255,.35);}

/* Splits emphasis */
.boshySplitsTable th{font-size:13.5px;font-weight:800;letter-spacing:.2px;position:sticky;top:0;background:rgba(10,18,32,.92);backdrop-filter: blur(6px);}
.boshySplitsTable td{font-size:13px;}
.splitNameInline span{font-size:13.5px;font-weight:800;}


/* === Stronger Boshy tab button === */
button.tabBtn[data-tab='boshy']{
  border: 1px solid rgba(120,200,255,.75) !important;
  background: linear-gradient(135deg, rgba(120,200,255,.22), rgba(120,200,255,.08)) !important;
}
button.tabBtn[data-tab='boshy'] .fa-stopwatch{ color: rgba(120,200,255,.95); }


/* === Boshy equal height === */
.boshyTopGrid{ align-items: stretch; }
.boshyLeft,.boshyRight{ display:flex; flex-direction:column; min-height: 520px; }
.boshyRight #boshyLeaderboards{ height: 100%; display:flex; flex-direction:column; }
.boshyRight #boshyLeaderboards .boshyLbTableWrap{ flex: 1;  }
.boshyRight #boshyLeaderboards .boshyLbTableWrap{ overflow:auto; }


/* --- Boshy UI tweaks v9 --- */
/* Some browsers apply default button text color; force white for pills */
.boshySubtab, .boshySubtab *, .boshySubtab i{ color: rgba(255,255,255,.92) !important; }
.boshySubtab.active, .boshySubtab.active *, .boshySubtab.active i{ color: #ffffff !important; }

/* Splits: bump numeric readability (times/dates) */
.boshySplitsTable td.mono, .boshySplitsTable .mono{ font-size: 15.5px; }
.boshySplitsTable th{ font-size: 15.0px; }

/* Make split numeric columns more readable */
.boshySplitsTable td{ font-size: 14.8px; }
.boshySplitsTable td.num{ font-size: 16.5px; letter-spacing: .25px; }

/* Stronger highlight for THXel in speedrun.com table */
.boshy-lb tr.me{ box-shadow: inset 3px 0 0 rgba(60,180,255,.9); }
.boshy-lb tr.me td{ background: rgba(60,180,255,.12); }
.boshy-lb tr.me td:nth-child(2){ font-weight: 800; color: #fff; }

#tab-boshy .splitsTable td:nth-child(2), #tab-boshy .splitsTable td:nth-child(3), #tab-boshy .splitsTable td:nth-child(4), [data-tabpanel="boshy"] .splitsTable td:nth-child(2), [data-tabpanel="boshy"] .splitsTable td:nth-child(3), [data-tabpanel="boshy"] .splitsTable td:nth-child(4){
  font-size: 15px !important;
  font-variant-numeric: tabular-nums;
}
