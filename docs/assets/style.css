/* --- Fonts --- */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

:root{
  --bg0: #06060a;
  --bg1: #0b0b14;
  --card: rgba(10, 10, 18, .62);
  --line: rgba(255,255,255,.10);
  --glow: rgba(99, 102, 241, .28);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.72);
  --pixel: 'Press Start 2P', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
  --mono: 'VT323', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

html, body{ height:100%; }
body{
  margin:0;
  color: var(--text);
  background:
    radial-gradient(1200px 650px at 20% 15%, rgba(99,102,241,.16), transparent 65%),
    radial-gradient(900px 550px at 80% 10%, rgba(34,211,238,.11), transparent 55%),
    radial-gradient(1200px 900px at 60% 90%, rgba(236,72,153,.10), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
}

/* Scanlines overlay */
body:before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.035),
      rgba(255,255,255,.035) 1px,
      rgba(0,0,0,0) 3px,
      rgba(0,0,0,0) 6px
    );
  mix-blend-mode: overlay;
  opacity: .22;
}

.container{ max-width: 1320px; margin: 0 auto; padding: 2.2rem 1rem 3rem; }

h1,h2,h3{ font-family: var(--pixel); letter-spacing:.02em; }
h1{ font-size:2.1rem; line-height:1.2; margin:.4rem 0 .1rem; }
h2{ font-size:1.25rem; margin:1.2rem 0 .5rem; }
h3{ font-size:1.02rem; line-height:1.35; margin:.9rem 0 .4rem; }

.muted{ color: var(--muted); }
.tiny{ font-size: .86rem; opacity: .75; }
.mini{ font-size: 1.65rem; }
.num{ font-variant-numeric: tabular-nums; font-weight: 950; font-size: 1.82rem; font-family: var(--mono); }

.topbar{ display:flex; align-items:center; gap:14px; padding-top:28px; padding-bottom:10px; }
.topbar .grow{ flex:1 1 auto; }
.topbar img{ display:block; height:56px; width:auto; object-fit:contain; }
.topbar .right img{ height:64px; }

.tabs{ display:flex; gap:.6rem; margin: 1.1rem 0 .9rem; flex-wrap:wrap; }
.tabBtn{
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  padding: .55rem .75rem;
  cursor: pointer;
  color: var(--text);
  font-family: var(--pixel);
  font-size: .78rem;
}
.tabBtn.active{
  box-shadow: 0 0 0 2px rgba(99,102,241,.35) inset, 0 10px 30px rgba(0,0,0,.25);
  border-color: rgba(99,102,241,.35);
}

.card{
  position: relative;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 14px 14px 10px 14px;
  margin-bottom: 12px;
  background: var(--card);
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 18px 36px rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
}
.card:after{
  content:"";
  position:absolute;
  inset: -1px;
  border-radius: 18px;
  pointer-events:none;
  box-shadow: 0 0 0 1px rgba(255,255,255,.06), 0 0 26px var(--glow);
  opacity: .18;
}
.card:hover:after{ opacity: .30; }

.thumbWrap{
  width: 100%;
  height: 170px;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  box-shadow: 0 0 0 1px rgba(255,255,255,.05) inset;
}
.thumbWrap img{ width: 100%; height: 100%; object-fit: cover; display:block; }

.rowgap{ display:flex; gap:.55rem; flex-wrap: wrap; align-items:center; }
.deathsBig{ font-variant-numeric: tabular-nums; font-weight: 1000; font-size: 2.85rem; line-height: 1.05; margin: .28rem 0 .15rem 0; font-family: var(--mono); }
.stars{ letter-spacing: .06rem; font-size: 1.05rem; font-weight: 900; }

/* My (THXel) rating headings like DF */
.myRatingGrid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items:start; }
@media (max-width: 640px){ .myRatingGrid{ grid-template-columns: 1fr; } }
.myRatingBox{ display:flex; flex-direction:column; gap: 4px; min-width: 0; }
.ratingLabel{ font-family: var(--pixel); font-size: .72rem; opacity: .92; letter-spacing:.04em; }
.starsLine{ display:flex; align-items:baseline; gap: .45rem; min-width: 0; }

/* Stats cards (match local hub layout) */
.statsGrid{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 14px; }
@media (max-width: 960px){ .statsGrid{ grid-template-columns: 1fr; } }
.statCard{ padding: 16px 18px; }
.statTitle{ font-family: var(--pixel); font-size: .78rem; opacity: .92; letter-spacing: .04em; }
.statValue{ font-variant-numeric: tabular-nums; font-weight: 1000; font-size: 1.9rem; line-height: 1.05; margin: .35rem 0 .2rem; font-family: var(--mono); }
.statSpan2{ grid-column: span 2; }
@media (max-width: 960px){ .statSpan2{ grid-column: span 1; } }


/* Game card title + DF button row */
.gameHead{ display:flex; align-items:flex-start; justify-content:space-between; gap: 14px; }
.gameHeadLeft{ min-width: 0; }
.gameTitle{ font-size: 1.34rem; line-height: 1.25; margin: .1rem 0 .25rem; }

/* Align "My rating" with DF rating in a single row */
.ratingGrid{ display:grid; grid-template-columns: auto 1fr; gap: 14px; align-items:center; margin-top: .45rem; }
@media (max-width: 960px){ .ratingGrid{ grid-template-columns: 1fr; } }
.myRatings{ display:flex; flex-direction:column; gap: .35rem; }

/* Keep the DF bars block from stretching too far right on wide screens */
.dfWrap{ justify-self:start; max-width: 560px; width: 100%; }

/* DF button */
.dfBtn{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding:.55rem .85rem;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.92);
  text-decoration: none;
  font-family: var(--pixel);
  font-size: .76rem;
  white-space: nowrap;
  box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset;
}
.dfBtn:hover{ border-color: rgba(99,102,241,.55); box-shadow: 0 0 0 2px rgba(99,102,241,.18), 0 0 20px rgba(99,102,241,.10); }
.dfBtn:active{ transform: translateY(1px); }

.dfbox{ border: 1px dashed rgba(255,255,255,.18); border-radius: 14px; padding: 8px 10px; background: rgba(255,255,255,.02); }

.badge{ display:inline-flex; align-items:center; gap:.45rem; padding:.34rem .70rem; border-radius: 999px; font-size: 1.00rem; font-weight: 800; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.03); font-family: var(--pixel); }
.badge:before{ content:"▣"; opacity:.9; }
.b-planned{ box-shadow: 0 0 0 1px rgba(56,189,248,.25) inset; }
.b-playing{ box-shadow: 0 0 0 1px rgba(250,204,21,.25) inset; }
.b-done{ box-shadow: 0 0 0 1px rgba(34,197,94,.25) inset; }
.b-hard{ box-shadow: 0 0 0 1px rgba(248,113,113,.28) inset; }

.gridCard{ display:grid; grid-template-columns: 260px 1fr; gap: 14px; }
@media (max-width: 860px){ .gridCard{ grid-template-columns: 1fr; } }

.links a{ color: rgba(255,255,255,.92); text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,.35); }
.links a:hover{ border-bottom-style: solid; }


/* --- Comment box + spoilers --- */
.commentBox{ margin-top:.65rem; border:1px dashed rgba(255,255,255,.18); border-radius:14px; padding:10px 12px; background: rgba(255,255,255,.02); }
.commentBox .label{ font-family: var(--pixel); font-size:.72rem; opacity:.92; letter-spacing:.04em; margin-bottom:.35rem; }
.commentBox .txt{ font-family: var(--mono); font-size:1.15rem; line-height:1.35; }
details.spoiler{ margin:.45rem 0; border:1px solid rgba(255,255,255,.14); border-radius:12px; background: rgba(255,255,255,.02); overflow:hidden; }
summary.spoilerSummary{ cursor:pointer; list-style:none; padding:.45rem .65rem; font-family: var(--pixel); font-size:.72rem; }
summary.spoilerSummary::-webkit-details-marker{ display:none; }
details.spoiler > summary.spoilerSummary:after{ content:'▸'; float:right; opacity:.85; }
details.spoiler[open] > summary.spoilerSummary:after{ content:'▾'; }
.spoilerBody{ padding:.55rem .65rem .65rem; border-top:1px solid rgba(255,255,255,.12); font-family: var(--mono); font-size:1.15rem; line-height:1.35; }

/* --- Library controls (Search / Filter / Sort) --- */
#libControls.card{ padding: 14px 16px; }
.controlsRow{ display:grid; grid-template-columns: 1.65fr 1fr 1fr; gap: 14px; align-items:end; }
@media (max-width: 960px){ .controlsRow{ grid-template-columns: 1fr; } }
.field{ display:flex; flex-direction:column; gap: 6px; min-width: 0; }
.fieldLabel{ font-family: var(--pixel); font-size: .72rem; opacity:.92; letter-spacing:.04em; }
.fieldInput, .fieldSelect{
  width: 100%;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  color: var(--text);
  padding: .65rem .75rem;
  outline: none;
  box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset;
  font-family: var(--mono);
  font-size: 1.10rem;
  min-height: 44px;
  appearance: none;
  -webkit-appearance: none;
}
.fieldInput::placeholder{ color: rgba(255,255,255,.42); }
.fieldInput:focus, .fieldSelect:focus{
  border-color: rgba(99,102,241,.55);
  box-shadow: 0 0 0 2px rgba(99,102,241,.22), 0 0 20px rgba(99,102,241,.12);
}


.hr{ height:1px; background: rgba(255,255,255,.10); margin: 1rem 0; }
